<?php 
	if(!isset($view_type)){
		$view_type = "grid";
	}
?>

<?php if (isset($products) && count($products)) : ?>
	<div class="block-product-grid block-product-grid__<?= $view_type?>">
	
		<div class="title">
			<?php if(isset($link) && $link): ?>
				<a href="<?=$link?>"><?=$title?></a>
			<?php else: ?>
				<?=$title?>
			<?php endif ?>
		</div>

		<div class="wrapper-products wrapper-products--default lg-5 md-4 sm-2" data-view-list="grid">
			<?php foreach ($products as $product) : ?>
				<?php $this->renderPartial($this->getViewsDir() . "catalog/_product_card.htm", ['product' => $product]); ?>
			<?php endforeach ?>
		</div>
	</div>
<?php endif ?>