<?php if (isset($products) && count($products)) : ?>
    <div class="infinity-products-list">

        <div class="title">
            <?php if (isset($link) && $link) : ?>
                <a href="<?= $link ?>"><?= $title ?></a>
            <?php else : ?>
                <?= $title ?>
            <?php endif ?>
        </div>

        <div class="wrapper-products wrapper-products--default lg-5 md-3 sm-2" data-view-list="grid">
            <?php $this->renderPartial($this->getViewsDir() . "catalog/_render_products.htm", ['products' => $products]); ?>
        </div>

        <div class="btn-more-products">Показать ещё</div>
    </div>
<?php endif ?>