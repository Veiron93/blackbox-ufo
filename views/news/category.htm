<? /** @var News_Post[]|Db_DataCollection $news */ ?>
<div class="news" id="article">
	<h2><?= $title ?></h2>
	<? if ($important): ?>
		<h3><a href="<?= u('news_post', array($important->id)) ?>"><?= $important->title ?></a></h3>
		<?= $important->description ?>
	<? endif; ?>
	<? if (!$news || !$news->count): ?>
		<p>Новостей нет.</p>
	<? else: ?>
		<? foreach ($news as $entry): ?>
			<h3><a href="<?= u('news_post', array($entry->id)) ?>"><?= $entry->title ?></a></h3>
			<?= $entry->description ?>
		<? endforeach ?>
		<? if (isset($pagination)): ?>
			<div class="pagination-block">
				<? if ($pagination && !$pagination->isFirstPage()): ?>
					<a class="prev" href="<?= u("news_category", [$categoryId]) . ($page - 1) ?>"/></a>
				<? endif; ?>
				<?= $pagination->format(new Phpr_PrimePaginationFormatter(), u("news_category", [$categoryId]) . "%d/") ?>
				<? if ($pagination && !$pagination->isLastPage()): ?>
					<a class="next" href="<?= u("news_category", [$categoryId]) . ($page + 1) ?>"></a>
				<? endif; ?>
			</div>
		<? endif; ?>
	<? endif; ?>
</div>