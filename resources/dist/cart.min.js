"use strict";document.addEventListener("DOMContentLoaded",function(){var t,e;(e=document.querySelector(".cart-wrapper"))&&(t=e.querySelectorAll(".btn-quantity-cart"),e=e.querySelectorAll(".quantity-num"),t.forEach(function(a){a.addEventListener("click",function(){var t,e=a.parentElement.querySelector(".quantity-num");(a.classList.contains("btn-quantity-minus")||e.value<e.getAttribute("max"))&&(a.classList.contains("btn-quantity-minus")?1<(t=e).value&&(t.value=+t.value-1):e.value=+e.value+1,$("#cart-form").sendForm("onUpdateQuantity",{}))})}),e.forEach(function(t){t.addEventListener("change",function(){t.value=1<=t.value?t.value:1,$("#cart-form").sendForm("onUpdateQuantity",{})})}));{let n=document.querySelector(".cart-wrapper");function a(e){var a=n.querySelector(".devivery-price").querySelector("span"),t=e.getAttribute("data-price"),e=e.getAttribute("data-code");if(0==t){let t=null;switch(e){case"pickup":t="Самовывоз";break;case"tk":t="Бесплатно до ТК";break;default:t="Бесплатно"}a.textContent=t}else a.textContent=t}function r(t){var e=n.querySelector(".total-price").querySelector("span"),a=n.querySelector(".goods-price").querySelector("span");e.textContent=Number(t.getAttribute("data-price"))+Number(a.getAttribute("data-summ"))}function c(t){var e=n.querySelector(".section-address");"pickup"==t.getAttribute("data-code")||e.classList.contains("active")?"pickup"==t.getAttribute("data-code")&&e.classList.remove("active"):e.classList.add("active")}n&&n.querySelectorAll('input[name="delivery"]').forEach(function(t){t.hasAttribute("checked")&&(a(t),r(t),c(t)),t.addEventListener("change",function(){a(t),r(t),c(t)})})}});